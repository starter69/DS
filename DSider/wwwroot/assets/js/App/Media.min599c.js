/*!
 * Remark (http://getbootstrapadmin.com/remark)
 * Copyright 2017 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */

!function(global,factory){if("function"==typeof define&&define.amd)define("/App/Media",["exports","BaseApp"],factory);else if("undefined"!=typeof exports)factory(exports,require("BaseApp"));else{var mod={exports:{}};factory(mod.exports,global.BaseApp),global.AppMedia=mod.exports}}(this,function(exports,_BaseApp2){"use strict";function getInstance(){return instance||(instance=new AppMedia),instance}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInstance=exports.run=exports.AppMedia=void 0;var AppMedia=function(_BaseApp){function AppMedia(){return babelHelpers.classCallCheck(this,AppMedia),babelHelpers.possibleConstructorReturn(this,(AppMedia.__proto__||Object.getPrototypeOf(AppMedia)).apply(this,arguments))}return babelHelpers.inherits(AppMedia,_BaseApp),babelHelpers.createClass(AppMedia,[{key:"initialize",value:function(){babelHelpers.get(AppMedia.prototype.__proto__||Object.getPrototypeOf(AppMedia.prototype),"initialize",this).call(this),this.$arrGrid=$("#arrangement-grid"),this.$arrList=$("#arrangement-list"),this.$actionBtn=$(".site-action"),this.$actionToggleBtn=this.$actionBtn.find(".site-action-toggle"),this.$content=$("#mediaContent"),this.$fileupload=$("#fileupload"),this.states={list:!1,checked:!1}}},{key:"process",value:function(){babelHelpers.get(AppMedia.prototype.__proto__||Object.getPrototypeOf(AppMedia.prototype),"process",this).call(this),this.steupArrangement(),this.setupActionBtn(),this.bindListChecked(),this.bindAction(),this.bindDropdownAction()}},{key:"list",value:function(active){active?(this.$arrGrid.removeClass("active"),this.$arrList.addClass("active"),$(".media-list").removeClass("is-grid").addClass("is-list"),$(".media-list>ul>li").removeClass("animation-scale-up").addClass("animation-fade")):(this.$arrList.removeClass("active"),this.$arrGrid.addClass("active"),$(".media-list").removeClass("is-list").addClass("is-grid"),$(".media-list>ul>li").removeClass("animation-fade").addClass("animation-scale-up")),this.states.list=active}},{key:"checked",value:function(_checked){var api=this.$actionBtn.actionBtn().data("actionBtn");_checked?api.show():api.hide(),this.states.checked=_checked}},{key:"steupArrangement",value:function(){var self=this;this.$arrGrid.on("click",function(){$(this).hasClass("active")||self.list(!1)}),this.$arrList.on("click",function(){$(this).hasClass("active")||self.list(!0)})}},{key:"setupActionBtn",value:function(){var _this2=this;this.$actionToggleBtn.on("click",function(e){_this2.states.checked||(_this2.$fileupload.trigger("click"),e.stopPropagation())})}},{key:"bindListChecked",value:function(){var _this3=this;this.$content.on("asSelectable::change",function(e,api,checked){_this3.checked(checked)})}},{key:"bindDropdownAction",value:function(){$(".info-wrap>.dropdown").on("show.bs.dropdown",function(){$(this).closest(".media-item").toggleClass("item-active")}).on("hidden.bs.dropdown",function(){$(this).closest(".media-item").toggleClass("item-active")}),$(".info-wrap .dropdown-menu").on("`click",function(e){e.stopPropagation()})}},{key:"bindAction",value:function(){$('[data-action="trash"]',".site-action").on("click",function(){}),$('[data-action="download"]',".site-action").on("click",function(){})}}]),AppMedia}(babelHelpers.interopRequireDefault(_BaseApp2).default),instance=null;exports.default=AppMedia,exports.AppMedia=AppMedia,exports.run=function(){getInstance().run()},exports.getInstance=getInstance});